<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Publishing Extension | Hello VuePress</title>
    <meta name="description" content="Just playing around">
    
    
    <link rel="preload" href="/vscode-doc-zh/assets/css/0.styles.0c09eec2.css" as="style"><link rel="preload" href="/vscode-doc-zh/assets/js/app.79cc50a5.js" as="script"><link rel="preload" href="/vscode-doc-zh/assets/js/2.6081b710.js" as="script"><link rel="preload" href="/vscode-doc-zh/assets/js/53.9a022f02.js" as="script"><link rel="prefetch" href="/vscode-doc-zh/assets/js/10.dcf0234a.js"><link rel="prefetch" href="/vscode-doc-zh/assets/js/11.3443e88c.js"><link rel="prefetch" href="/vscode-doc-zh/assets/js/12.33618473.js"><link rel="prefetch" href="/vscode-doc-zh/assets/js/13.f5bcdba3.js"><link rel="prefetch" href="/vscode-doc-zh/assets/js/14.069ed78b.js"><link rel="prefetch" href="/vscode-doc-zh/assets/js/15.8ad5337f.js"><link rel="prefetch" href="/vscode-doc-zh/assets/js/16.27611e97.js"><link rel="prefetch" href="/vscode-doc-zh/assets/js/17.ae2dc47b.js"><link rel="prefetch" href="/vscode-doc-zh/assets/js/18.4a6eb331.js"><link rel="prefetch" href="/vscode-doc-zh/assets/js/19.17a60d3f.js"><link rel="prefetch" href="/vscode-doc-zh/assets/js/20.7de46031.js"><link rel="prefetch" href="/vscode-doc-zh/assets/js/21.84669414.js"><link rel="prefetch" href="/vscode-doc-zh/assets/js/22.9afacd9c.js"><link rel="prefetch" href="/vscode-doc-zh/assets/js/23.f216dfdc.js"><link rel="prefetch" href="/vscode-doc-zh/assets/js/24.0cc96f6f.js"><link rel="prefetch" href="/vscode-doc-zh/assets/js/25.be98c8b0.js"><link rel="prefetch" href="/vscode-doc-zh/assets/js/26.9406d5cd.js"><link rel="prefetch" href="/vscode-doc-zh/assets/js/27.c82f8665.js"><link rel="prefetch" href="/vscode-doc-zh/assets/js/28.14ff35c2.js"><link rel="prefetch" href="/vscode-doc-zh/assets/js/29.0b9194ef.js"><link rel="prefetch" href="/vscode-doc-zh/assets/js/3.3c269ca0.js"><link rel="prefetch" href="/vscode-doc-zh/assets/js/30.6c266e85.js"><link rel="prefetch" href="/vscode-doc-zh/assets/js/31.71b1efc9.js"><link rel="prefetch" href="/vscode-doc-zh/assets/js/32.a260662e.js"><link rel="prefetch" href="/vscode-doc-zh/assets/js/33.ebd1b0e9.js"><link rel="prefetch" href="/vscode-doc-zh/assets/js/34.8c89ccc9.js"><link rel="prefetch" href="/vscode-doc-zh/assets/js/35.8c56c023.js"><link rel="prefetch" href="/vscode-doc-zh/assets/js/36.bb77a714.js"><link rel="prefetch" href="/vscode-doc-zh/assets/js/37.fff25a6d.js"><link rel="prefetch" href="/vscode-doc-zh/assets/js/38.c898d862.js"><link rel="prefetch" href="/vscode-doc-zh/assets/js/39.2754f4ea.js"><link rel="prefetch" href="/vscode-doc-zh/assets/js/4.8ce84c45.js"><link rel="prefetch" href="/vscode-doc-zh/assets/js/40.08340174.js"><link rel="prefetch" href="/vscode-doc-zh/assets/js/41.022c4327.js"><link rel="prefetch" href="/vscode-doc-zh/assets/js/42.a6524d2e.js"><link rel="prefetch" href="/vscode-doc-zh/assets/js/43.8f0dd455.js"><link rel="prefetch" href="/vscode-doc-zh/assets/js/44.b23d9f65.js"><link rel="prefetch" href="/vscode-doc-zh/assets/js/45.04fcf627.js"><link rel="prefetch" href="/vscode-doc-zh/assets/js/46.789e9716.js"><link rel="prefetch" href="/vscode-doc-zh/assets/js/47.33d6f209.js"><link rel="prefetch" href="/vscode-doc-zh/assets/js/48.135250ff.js"><link rel="prefetch" href="/vscode-doc-zh/assets/js/49.3d6d3bb5.js"><link rel="prefetch" href="/vscode-doc-zh/assets/js/5.62e47b4c.js"><link rel="prefetch" href="/vscode-doc-zh/assets/js/50.44990f04.js"><link rel="prefetch" href="/vscode-doc-zh/assets/js/51.6ca0374b.js"><link rel="prefetch" href="/vscode-doc-zh/assets/js/52.eb83c9e0.js"><link rel="prefetch" href="/vscode-doc-zh/assets/js/54.7da689eb.js"><link rel="prefetch" href="/vscode-doc-zh/assets/js/55.25e75232.js"><link rel="prefetch" href="/vscode-doc-zh/assets/js/6.83a6b4a3.js"><link rel="prefetch" href="/vscode-doc-zh/assets/js/7.eefd45de.js"><link rel="prefetch" href="/vscode-doc-zh/assets/js/8.aa200fb5.js"><link rel="prefetch" href="/vscode-doc-zh/assets/js/9.6259a5ab.js">
    <link rel="stylesheet" href="/vscode-doc-zh/assets/css/0.styles.0c09eec2.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-navbar"><!----> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><a href="/vscode-doc-zh/" class="sidebar-link">首页</a></li><li><a href="/vscode-doc-zh/api/" class="sidebar-link">扩展 API</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="publishing-extension"><a href="#publishing-extension" aria-hidden="true" class="header-anchor">#</a> Publishing Extension</h1> <p>Once you have made a high-quality extension, you can publish it to the <a href="https://marketplace.visualstudio.com/vscode" target="_blank" rel="noopener noreferrer">VS Code Extension Marketplace<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> so others can find, download, and use your extension. Alternatively, you can <a href="#packaging-extensions">package</a> an extension into the installable VSIX format and share it with other users.</p> <p>This topics covers:</p> <ul><li>Using <a href="#vsce"><code>vsce</code></a>, the CLI tool for managing VS Code extensions</li> <li><a href="#packaging-extensions">Packaging</a>, <a href="#publishing-extensions">publishing</a> and <a href="#unpublishing-extensions">unpublishing</a> extensions</li> <li><a href="#create-a-publisher">Registering a <code>publisherId</code></a> necessary for publishing extensions</li></ul> <h2 id="vsce"><a href="#vsce" aria-hidden="true" class="header-anchor">#</a> vsce</h2> <p><a href="https://github.com/Microsoft/vsce" target="_blank" rel="noopener noreferrer">vsce<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, short for &quot;Visual Studio Code Extensions&quot;, is a command-line tool for packaging, publishing and managing VS Code extensions.</p> <h3 id="installation"><a href="#installation" aria-hidden="true" class="header-anchor">#</a> Installation</h3> <p>Make sure you have <a href="https://nodejs.org/" target="_blank" rel="noopener noreferrer">Node.js<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> installed. Then run:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> -g vsce
</code></pre></div><h3 id="usage"><a href="#usage" aria-hidden="true" class="header-anchor">#</a> Usage</h3> <p>You can use <code>vsce</code> to easily <a href="#packaging-extensions">package</a> and <a href="#publishing-extensions">publish</a> your extensions:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token builtin class-name">cd</span> myExtension
$ vsce package
<span class="token comment"># myExtension.vsix generated</span>
$ vsce publish
<span class="token comment"># &lt;publisherID&gt;.myExtension published to VS Code MarketPlace</span>
</code></pre></div><p><code>vsce</code> can also search, retrieve metadata, and unpublish extensions. For a reference on all the available <code>vsce</code> commands, run <code>vsce --help</code>.</p> <h2 id="publishing-extensions"><a href="#publishing-extensions" aria-hidden="true" class="header-anchor">#</a> Publishing extensions</h2> <p>Visual Studio Code leverages <a href="https://azure.microsoft.com/services/devops/" target="_blank" rel="noopener noreferrer">Azure DevOps<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> for its Marketplace services. This means that authentication, hosting, and management of extensions are provided through Azure DevOps.</p> <p><code>vsce</code> can only publish extensions using <a href="https://docs.microsoft.com/azure/devops/integrate/get-started/authentication/pats" target="_blank" rel="noopener noreferrer">Personal Access Tokens<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. You need to create at least one in order to publish an extension.</p> <h3 id="get-a-personal-access-token"><a href="#get-a-personal-access-token" aria-hidden="true" class="header-anchor">#</a> Get a Personal Access Token</h3> <p>First, make sure you have an Azure DevOps <a href="https://docs.microsoft.com/azure/devops/organizations/accounts/create-organization-msa-or-work-student" target="_blank" rel="noopener noreferrer">organization<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <p>In the following examples, the organization's name is <code>vscode</code>. From your organization's home page (for example: <code>https://dev.azure.com/vscode</code>), go to the <strong>Security</strong> page:</p> <p><img src="images/publishing-extension/token1.png" alt="Security page"></p> <p>Select <code>Personal access tokens</code> and click <strong>New Token</strong> to create a new Personal Access Token:</p> <p><img src="images/publishing-extension/token2.png" alt="Create personal access token"></p> <p>Give the Personal Access Token a name, optionally extend its expiration date to one year, make it accessible to every organization, select a <strong>custom defined</strong> scope ruleset and click <strong>Show all scopes</strong>:</p> <p><img src="images/publishing-extension/token3.png" alt="Personal access token details"></p> <p>Finally, scroll down the list of possible scopes until you find <strong>Marketplace</strong> and select both <strong>Acquire</strong> and <strong>Manage</strong>:</p> <p><img src="images/publishing-extension/token4.png" alt="Personal access token details"></p> <p>Click <strong>Create</strong> and you'll be presented with your newly created Personal Access Token. <strong>Copy</strong> it, you'll need it to create a publisher.</p> <h3 id="create-a-publisher"><a href="#create-a-publisher" aria-hidden="true" class="header-anchor">#</a> Create a publisher</h3> <p>A <strong>publisher</strong> is an identity who can publish extensions to the Visual Studio Code Marketplace. Every extension needs to include a <code>publisher</code> name in its <a href="/api/references/extension-manifest"><code>package.json</code> file</a>.</p> <p>Once you have a <a href="/api/working-with-extensions/publishing-extension#get-a-personal-access-token">Personal Access Token</a>, you can create a new publisher using <code>vsce</code>:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>vsce create-publisher <span class="token punctuation">(</span>publisher name<span class="token punctuation">)</span>
</code></pre></div><p><code>vsce</code> will remember the provided Personal Access Token for future references to this publisher.</p> <p><strong>Note:</strong> Alternatively, create your publisher in the Marketplace publisher <a href="https://marketplace.visualstudio.com/manage" target="_blank" rel="noopener noreferrer">management page<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> and log in through <code>vsce</code>, as described in the next section.</p> <h3 id="log-in-to-a-publisher"><a href="#log-in-to-a-publisher" aria-hidden="true" class="header-anchor">#</a> Log in to a publisher</h3> <p>If you already created a publisher before and want to use it with <code>vsce</code>:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>vsce login <span class="token punctuation">(</span>publisher name<span class="token punctuation">)</span>
</code></pre></div><p>Similarly to the <code>create-publisher</code> command, <code>vsce</code> will ask you for the Personal Access Token and remember it for future commands.</p> <p>You can also enter your Personal Access Token as you publish with an optional parameter <code>-p &lt;token&gt;</code>.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>vsce publish -p <span class="token operator">&lt;</span>token<span class="token operator">&gt;</span>
</code></pre></div><h2 id="auto-incrementing-the-extension-version"><a href="#auto-incrementing-the-extension-version" aria-hidden="true" class="header-anchor">#</a> Auto-incrementing the extension version</h2> <p>You can auto-increment an extension's version number when you publish by specifying the <a href="https://semver.org/" target="_blank" rel="noopener noreferrer">SemVer<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> compatible number to increment: <code>major</code>, <code>minor</code>, or <code>patch</code>.</p> <p>For example, if you want to update an extension's version from 1.0.0 to 1.1.0, you would specify <code>minor</code>:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>vsce publish minor
</code></pre></div><p>This will modify the extension's <code>package.json</code> <a href="/api/references/extension-manifest#fields">version</a> attribute before publishing the extension.</p> <p>You can also specify a complete SemVer compatible version on the command line:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>vsce publish <span class="token number">2.0</span>.1
</code></pre></div><blockquote><p><strong>Note:</strong> If <code>vsce publish</code> is run in a git repo, it will also create a version commit and tag via <a href="https://docs.npmjs.com/cli/version#description" target="_blank" rel="noopener noreferrer">npm-version<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.  The default commit message will be extension's version, but you can supply a custom commit message using the <code>-m</code> flag.  (The current version can be referenced from
the commit message with <code>%s</code>.)</p></blockquote> <h2 id="unpublishing-extensions"><a href="#unpublishing-extensions" aria-hidden="true" class="header-anchor">#</a> Unpublishing extensions</h2> <p>You can unpublish an extension with the vsce tool by specifying the extension ID <code>publisher.extension</code>.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>vsce unpublish <span class="token punctuation">(</span>publisher name<span class="token punctuation">)</span>.<span class="token punctuation">(</span>extension name<span class="token punctuation">)</span>
</code></pre></div><blockquote><p><strong>Note:</strong> When you unpublish an extension, the Marketplace will remove any extension statistics it has collected. You may want to update your extension rather than unpublish it.</p></blockquote> <h2 id="packaging-extensions"><a href="#packaging-extensions" aria-hidden="true" class="header-anchor">#</a> Packaging extensions</h2> <p>If you want to test an extension on your local install of VS Code or distribute an extension without publishing it to VS Code MarketPlace, you can choose to package your extension. <code>vsce</code> can package your extension into a <code>VSIX</code> file, from which users can easily install. Some extensions publish VSIX files to each GitHub release.</p> <p>For extension authors, they can run <code>vsce package</code> in extension root folder to create such VSIX files.</p> <p>For users who receive such a VSIX file, they can install the extension with <code>code --install-extension my-extension-0.0.1.vsix</code>.</p> <h3 id="sharing-privately-with-others"><a href="#sharing-privately-with-others" aria-hidden="true" class="header-anchor">#</a> Sharing privately with others</h3> <p>If you want to share your extension with others privately, you can send them your packaged extension <code>.vsix</code> file.</p> <h2 id="your-extension-folder"><a href="#your-extension-folder" aria-hidden="true" class="header-anchor">#</a> Your extension folder</h2> <p>To load an extension, you need to copy the files to your VS Code extensions folder <code>.vscode/extensions</code>. Depending on your platform, it is located in the following folders:</p> <ul><li><strong>Windows</strong> <code>%USERPROFILE%\.vscode\extensions</code></li> <li><strong>macOS</strong> <code>~/.vscode/extensions</code></li> <li><strong>Linux</strong> <code>~/.vscode/extensions</code></li></ul> <h2 id="visual-studio-code-compatibility"><a href="#visual-studio-code-compatibility" aria-hidden="true" class="header-anchor">#</a> Visual Studio Code compatibility</h2> <p>When authoring an extension, you will need to describe what is the extension's compatibility to Visual Studio Code itself. This can be done via the <code>engines.vscode</code> field inside <code>package.json</code>:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;engines&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;vscode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^1.8.0&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>A value of <code>1.8.0</code> means that your extension is compatible only with VS Code <code>1.8.0</code>. A value of <code>^1.8.0</code> means that your extension is compatible with VS Code <code>1.8.0</code> and onwards, including <code>1.8.1</code>, <code>1.9.0</code>, etc.</p> <p>You can use the <code>engines.vscode</code> field to make sure the extension only gets installed for clients that contain the API you depend on. This mechanism plays well with the Stable release as well as the Insiders one.</p> <p>For example, imagine that the latest Stable version of VS Code is <code>1.8.0</code> and that during <code>1.9.0</code>'s development a new API is introduced and thus made available in the Insider release through version <code>1.9.0-insider</code>. If you want to publish an extension version that benefits from this API, you should indicate a version dependency of <code>^1.9.0</code>. Your new extension version will be installed only on VS Code <code>&gt;=1.9.0</code>, which means all current Insider customers will get it, while the Stable ones will only get the update when Stable reaches <code>1.9.0</code>.</p> <h2 id="advanced-usage"><a href="#advanced-usage" aria-hidden="true" class="header-anchor">#</a> Advanced usage</h2> <h3 id="marketplace-integration"><a href="#marketplace-integration" aria-hidden="true" class="header-anchor">#</a> Marketplace integration</h3> <p>You can customize how your extension looks in the Visual Studio Marketplace. See the <a href="https://marketplace.visualstudio.com/items/ms-vscode.Go" target="_blank" rel="noopener noreferrer">Go extension<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> for an example.</p> <p>Here are some tips for making your extension look great on the Marketplace:</p> <ul><li>A <code>README.md</code> file at the root of your extension will be used to populate the extension's Marketplace page's contents. <code>vsce</code> will modify README links for you in two different ways:
<ul><li>If you add a <code>repository</code> field to your <code>package.json</code> and if it is a public GitHub repository, <code>vsce</code> will automatically detect it and adjust the links accordingly.</li> <li>You can override that behavior and/or set it by using the <code>--baseContentUrl</code> and <code>--baseImagesUrl</code> flags when running <code>vsce package</code>. Then publish the extension by passing the path to the packaged <code>.vsix</code> file as an argument to <code>vsce publish</code>.</li></ul></li> <li>A <code>LICENSE</code> file at the root of your extension will be used as the contents for the extension's license.</li> <li>A <code>CHANGELOG.md</code> file at the root of your extension will be used as the contents for the extension's change log.</li> <li>You can set the banner background color by setting <code>galleryBanner.color</code> to the intended hex value in <code>package.json</code>.</li> <li>You can set an icon by setting <code>icon</code> to a relative path to a squared <code>128px</code> PNG file included in your extension, in <code>package.json</code>.</li></ul> <p>Also see <a href="/api/references/extension-manifest#marketplace-presentation-tips">Marketplace Presentation Tips</a>.</p> <h3 id="vscodeignore"><a href="#vscodeignore" aria-hidden="true" class="header-anchor">#</a> <code>.vscodeignore</code></h3> <p>You can create a <code>.vscodeignore</code> file to exclude some files from being included in your extension's package. This file is a collection of <a href="https://github.com/isaacs/minimatch" target="_blank" rel="noopener noreferrer">glob<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> patterns, one per line.</p> <p>For example:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>**/*.ts
**/tsconfig.json
<span class="token operator">!</span>file.ts
</code></pre></div><p>You should ignore all files not needed at runtime. For example, if your extension is written in TypeScript, you should ignore all <code>**/*.ts</code> files, like in the previous example.</p> <p><strong>Note:</strong> Development dependencies listed in <code>devDependencies</code> will be automatically ignored, you don't need to add them to the <code>.vscodeignore</code> file.</p> <h3 id="pre-publish-step"><a href="#pre-publish-step" aria-hidden="true" class="header-anchor">#</a> Pre-publish step</h3> <p>It's possible to add a pre-publish step to your manifest file. The command will be called every time the extension is packaged.</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;uuid&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0.1&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;publisher&quot;</span><span class="token operator">:</span> <span class="token string">&quot;someone&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;engines&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;vscode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.10.x&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;vscode:prepublish&quot;</span><span class="token operator">:</span> <span class="token string">&quot;tsc&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>This will always invoke the <a href="https://www.typescriptlang.org/" target="_blank" rel="noopener noreferrer">TypeScript<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> compiler whenever the extension is packaged.</p> <h2 id="next-steps"><a href="#next-steps" aria-hidden="true" class="header-anchor">#</a> Next steps</h2> <ul><li><a href="/docs/editor/extension-gallery">Extension Marketplace</a> - Learn more about VS Code's public extension Marketplace.</li> <li><a href="/api/working-with-extensions/testing-extension">Testing Extensions</a> - Add tests to your extension project to ensure high quality.</li> <li><a href="/api/working-with-extensions/bundling-extension">Bundling Extensions</a> - Improve load times by bundling your extension files with webpack.</li></ul> <h2 id="common-questions"><a href="#common-questions" aria-hidden="true" class="header-anchor">#</a> Common questions</h2> <h3 id="i-get-403-forbidden-or-401-unauthorized-error-when-i-try-to-publish-my-extension"><a href="#i-get-403-forbidden-or-401-unauthorized-error-when-i-try-to-publish-my-extension" aria-hidden="true" class="header-anchor">#</a> I get 403 Forbidden (or 401 Unauthorized) error when I try to publish my extension?</h3> <p>One easy mistake to make when creating the PAT (Personal Access Token) is to not select <code>all accessible accounts</code> in the Accounts field drop-down (instead selecting a specific account). You should also set the Authorized Scopes to <code>All scopes</code> for the publish to work.</p> <h3 id="i-can-t-unpublish-my-extension-through-the-vsce-tool"><a href="#i-can-t-unpublish-my-extension-through-the-vsce-tool" aria-hidden="true" class="header-anchor">#</a> I can't unpublish my extension through the <code>vsce</code> tool?</h3> <p>You may have changed your extension ID or publisher name. You can also manage your extensions directly on the Marketplace by going to the <a href="https://marketplace.visualstudio.com/manage" target="_blank" rel="noopener noreferrer">manage page<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. You can update or unpublish your extension from your publisher manage page.</p> <h3 id="why-does-vsce-not-preserve-file-attributes"><a href="#why-does-vsce-not-preserve-file-attributes" aria-hidden="true" class="header-anchor">#</a> Why does vsce not preserve file attributes?</h3> <p>Please note that when building and publishing your extension from Windows, all the files included in the extension package will lack POSIX file attributes, namely the executable bit. Some <code>node_modules</code> dependencies rely on those attributes to properly function. Publishing from Linux and macOS works as expected.</p> <h3 id="can-i-publish-from-a-continuous-integration-ci-build"><a href="#can-i-publish-from-a-continuous-integration-ci-build" aria-hidden="true" class="header-anchor">#</a> Can I publish from a continuous integration (CI) build?</h3> <p>Yes, see the <a href="/api/working-with-extensions/continuous-integration#automated-publishing">Automated publishing</a> section of the <a href="/api/working-with-extensions/continuous-integration">Continuous Integration</a> topic to learn how to configure Azure DevOps to automatically publish your extension to the Marketplace.</p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/vscode-doc-zh/assets/js/app.79cc50a5.js" defer></script><script src="/vscode-doc-zh/assets/js/2.6081b710.js" defer></script><script src="/vscode-doc-zh/assets/js/53.9a022f02.js" defer></script>
  </body>
</html>

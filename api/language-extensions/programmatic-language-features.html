<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Programmatic Language Features | Vscode API 中文文档</title>
    <meta name="description" content="Just playing around">
    
    
    <link rel="preload" href="/assets/css/0.styles.454f99c0.css" as="style"><link rel="preload" href="/assets/js/app.69530766.js" as="script"><link rel="preload" href="/assets/js/2.6081b710.js" as="script"><link rel="preload" href="/assets/js/39.3c1938ed.js" as="script"><link rel="prefetch" href="/assets/js/10.00c1caf2.js"><link rel="prefetch" href="/assets/js/11.22f75b2f.js"><link rel="prefetch" href="/assets/js/12.33618473.js"><link rel="prefetch" href="/assets/js/13.f5bcdba3.js"><link rel="prefetch" href="/assets/js/14.069ed78b.js"><link rel="prefetch" href="/assets/js/15.8ad5337f.js"><link rel="prefetch" href="/assets/js/16.27611e97.js"><link rel="prefetch" href="/assets/js/17.f0ee6d17.js"><link rel="prefetch" href="/assets/js/18.4a6eb331.js"><link rel="prefetch" href="/assets/js/19.43e4541f.js"><link rel="prefetch" href="/assets/js/20.7de46031.js"><link rel="prefetch" href="/assets/js/21.84669414.js"><link rel="prefetch" href="/assets/js/22.9afacd9c.js"><link rel="prefetch" href="/assets/js/23.f216dfdc.js"><link rel="prefetch" href="/assets/js/24.0cc96f6f.js"><link rel="prefetch" href="/assets/js/25.cbd514e8.js"><link rel="prefetch" href="/assets/js/26.7be766a8.js"><link rel="prefetch" href="/assets/js/27.c82f8665.js"><link rel="prefetch" href="/assets/js/28.14ff35c2.js"><link rel="prefetch" href="/assets/js/29.0b9194ef.js"><link rel="prefetch" href="/assets/js/3.3c269ca0.js"><link rel="prefetch" href="/assets/js/30.eb394ebe.js"><link rel="prefetch" href="/assets/js/31.71b1efc9.js"><link rel="prefetch" href="/assets/js/32.a260662e.js"><link rel="prefetch" href="/assets/js/33.ebd1b0e9.js"><link rel="prefetch" href="/assets/js/34.8c89ccc9.js"><link rel="prefetch" href="/assets/js/35.8c56c023.js"><link rel="prefetch" href="/assets/js/36.bb77a714.js"><link rel="prefetch" href="/assets/js/37.fff25a6d.js"><link rel="prefetch" href="/assets/js/38.c898d862.js"><link rel="prefetch" href="/assets/js/4.8ce84c45.js"><link rel="prefetch" href="/assets/js/40.08340174.js"><link rel="prefetch" href="/assets/js/41.022c4327.js"><link rel="prefetch" href="/assets/js/42.a6524d2e.js"><link rel="prefetch" href="/assets/js/43.8f0dd455.js"><link rel="prefetch" href="/assets/js/44.b23d9f65.js"><link rel="prefetch" href="/assets/js/45.a30b757b.js"><link rel="prefetch" href="/assets/js/46.789e9716.js"><link rel="prefetch" href="/assets/js/47.33d6f209.js"><link rel="prefetch" href="/assets/js/48.135250ff.js"><link rel="prefetch" href="/assets/js/49.3d6d3bb5.js"><link rel="prefetch" href="/assets/js/5.62e47b4c.js"><link rel="prefetch" href="/assets/js/50.44990f04.js"><link rel="prefetch" href="/assets/js/51.2a2a5129.js"><link rel="prefetch" href="/assets/js/52.3996bfd7.js"><link rel="prefetch" href="/assets/js/53.01d6e216.js"><link rel="prefetch" href="/assets/js/54.ec31b688.js"><link rel="prefetch" href="/assets/js/55.25e75232.js"><link rel="prefetch" href="/assets/js/6.83a6b4a3.js"><link rel="prefetch" href="/assets/js/7.1f83f4dc.js"><link rel="prefetch" href="/assets/js/8.db84d1e9.js"><link rel="prefetch" href="/assets/js/9.6259a5ab.js">
    <link rel="stylesheet" href="/assets/css/0.styles.454f99c0.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-navbar"><!----> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><a href="/" class="sidebar-link">首页</a></li><li><a href="/api/" class="sidebar-link">扩展 API</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="programmatic-language-features"><a href="#programmatic-language-features" aria-hidden="true" class="header-anchor">#</a> Programmatic Language Features</h1> <p>Programmatic Language Features is a set of smart-editing features powered by the <a href="/api/references/vscode-api#languages"><code>vscode.languages.*</code></a> API. There are two common ways to provide a dynamic language feature in Visual Studio Code. Let's take <a href="#hover">Hover</a> as an example:</p> <div class="language-ts extra-class"><pre class="language-ts"><code>vscode<span class="token punctuation">.</span>languages<span class="token punctuation">.</span><span class="token function">registerHoverProvider</span><span class="token punctuation">(</span><span class="token string">'javascript'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function">provideHover</span><span class="token punctuation">(</span><span class="token parameter">document<span class="token punctuation">,</span> position<span class="token punctuation">,</span> token</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      contents<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'Hover Content'</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>As you see above, the <a href="/api/references/vscode-api#languages.registerHoverProvider"><code>vscode.languages.registerHoverProvider</code></a> API provides an easy way to provide hover contents to JavaScript files. After this extension gets activated, whenever you hover over some JavaScript code, VS Code queries all <a href="/api/references/vscode-api#HoverProvider"><code>HoverProvider</code></a> for JavaScript and shows the result in a Hover widget. The <a href="#language-features-listing">Language Feature Listing</a> and illustrated gif below provides an easy way for you to locate which VS Code API / LSP Method your extension needs.</p> <p>An alternative approach is to implement a Language Server that speaks <a href="https://microsoft.github.io/language-server-protocol/" target="_blank" rel="noopener noreferrer">Language Server Protocol<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. The way it works is:</p> <ul><li>An extension provides a Language Client and a Language Server for JavaScript.</li> <li>The Language Client is like any other VS Code extension, running in the Node.js Extension Host context. When it gets activated, it spawns the Language Server in another process and communicates with it through <a href="https://microsoft.github.io/language-server-protocol/" target="_blank" rel="noopener noreferrer">Language Server Protocol<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</li> <li>You hover over JavaScript code in VS Code</li> <li>VS Code informs the Language Client of the hover</li> <li>The Language Client queries the Language Server for a hover result and sends it back to VS Code</li> <li>VS Code displays the hover result in a Hover widget</li></ul> <p>The process seems more complicated, but it provides two major benefits:</p> <ul><li>The Language Server can be written in any language</li> <li>The Language Server can be reused to provide smart editing features for multiple editors</li></ul> <p>For a more in-depth guide, head over to the <a href="/api/language-extensions/language-server-extension-guide">Language Server Extension Guide</a>.</p> <hr> <h2 id="language-features-listing"><a href="#language-features-listing" aria-hidden="true" class="header-anchor">#</a> Language Features Listing</h2> <p>This listing includes the following items for each language feature:</p> <ul><li>An illustration of the language feature in VS Code</li> <li>Related VS Code API</li> <li>Related LSP methods</li></ul> <table><thead><tr><th>VS Code API</th> <th>LSP method</th></tr></thead> <tbody><tr><td><a href="/api/references/vscode-api#languages.createDiagnosticCollection"><code>createDiagnosticCollection</code></a></td> <td><a href="https://microsoft.github.io/language-server-protocol/specification#textDocument_publishDiagnostics" target="_blank" rel="noopener noreferrer">PublishDiagnostics<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td></tr> <tr><td><a href="/api/references/vscode-api#languages.registerCompletionItemProvider"><code>registerCompletionItemProvider</code></a></td> <td><a href="https://microsoft.github.io/language-server-protocol/specification#textDocument_completion" target="_blank" rel="noopener noreferrer">Completion<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> &amp; <a href="https://microsoft.github.io/language-server-protocol/specification#completionItem_resolve" target="_blank" rel="noopener noreferrer">Completion Resolve<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td></tr> <tr><td><a href="/api/references/vscode-api#languages.registerHoverProvider"><code>registerHoverProvider</code></a></td> <td><a href="https://microsoft.github.io/language-server-protocol/specification#textDocument_hover" target="_blank" rel="noopener noreferrer">Hover<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td></tr> <tr><td><a href="/api/references/vscode-api#languages.registerSignatureHelpProvider"><code>registerSignatureHelpProvider</code></a></td> <td><a href="https://microsoft.github.io/language-server-protocol/specification#textDocument_signatureHelp" target="_blank" rel="noopener noreferrer">SignatureHelp<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td></tr> <tr><td><a href="/api/references/vscode-api#languages.registerDefinitionProvider"><code>registerDefinitionProvider</code></a></td> <td><a href="https://microsoft.github.io/language-server-protocol/specification#textDocument_definition" target="_blank" rel="noopener noreferrer">Definition<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td></tr> <tr><td><a href="/api/references/vscode-api#languages.registerTypeDefinitionProvider"><code>registerTypeDefinitionProvider</code></a></td> <td><a href="https://microsoft.github.io/language-server-protocol/specification#textDocument_typeDefinition" target="_blank" rel="noopener noreferrer">TypeDefinition<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td></tr> <tr><td><a href="/api/references/vscode-api#languages.registerImplementationProvider"><code>registerImplementationProvider</code></a></td> <td><a href="https://microsoft.github.io/language-server-protocol/specification#textDocument_implementation" target="_blank" rel="noopener noreferrer">Implementation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td></tr> <tr><td><a href="/api/references/vscode-api#languages.registerReferenceProvider"><code>registerReferenceProvider</code></a></td> <td><a href="https://microsoft.github.io/language-server-protocol/specification#textDocument_references" target="_blank" rel="noopener noreferrer">References<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td></tr> <tr><td><a href="/api/references/vscode-api#languages.registerDocumentHighlightProvider"><code>registerDocumentHighlightProvider</code></a></td> <td><a href="https://microsoft.github.io/language-server-protocol/specification#textDocument_documentHighlight" target="_blank" rel="noopener noreferrer">DocumentHighlight<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td></tr> <tr><td><a href="/api/references/vscode-api#languages.registerDocumentSymbolProvider"><code>registerDocumentSymbolProvider</code></a></td> <td><a href="https://microsoft.github.io/language-server-protocol/specification#textDocument_documentSymbol" target="_blank" rel="noopener noreferrer">DocumentSymbol<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td></tr> <tr><td><a href="/api/references/vscode-api#languages.registerCodeActionsProvider"><code>registerCodeActionsProvider</code></a></td> <td><a href="https://microsoft.github.io/language-server-protocol/specification#textDocument_codeAction" target="_blank" rel="noopener noreferrer">CodeAction<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td></tr> <tr><td><a href="/api/references/vscode-api#languages.registerCodeLensProvider"><code>registerCodeLensProvider</code></a></td> <td><a href="https://microsoft.github.io/language-server-protocol/specification#textDocument_codeLens" target="_blank" rel="noopener noreferrer">CodeLens<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> &amp; <a href="https://microsoft.github.io/language-server-protocol/specification#codeLens_resolve" target="_blank" rel="noopener noreferrer">CodeLens Resolve<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td></tr> <tr><td><a href="/api/references/vscode-api#languages.registerDocumentLinkProvider"><code>registerDocumentLinkProvider</code></a></td> <td><a href="https://microsoft.github.io/language-server-protocol/specification#textDocument_documentLink" target="_blank" rel="noopener noreferrer">DocumentLink<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> &amp; <a href="https://microsoft.github.io/language-server-protocol/specification#documentLink_resolve" target="_blank" rel="noopener noreferrer">DocumentLink Resolve<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td></tr> <tr><td><a href="/api/references/vscode-api#languages.registerDocumentColorProvider"><code>registerColorProvider</code></a></td> <td><a href="https://microsoft.github.io/language-server-protocol/specification#textDocument_documentColor" target="_blank" rel="noopener noreferrer">DocumentColor<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> &amp; <a href="https://microsoft.github.io/language-server-protocol/specification#textDocument_colorPresentation" target="_blank" rel="noopener noreferrer">Color Presentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td></tr> <tr><td><a href="/api/references/vscode-api#languages.registerDocumentFormattingEditProvider"><code>registerDocumentFormattingEditProvider</code></a></td> <td><a href="https://microsoft.github.io/language-server-protocol/specification#textDocument_formatting" target="_blank" rel="noopener noreferrer">Formatting<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td></tr> <tr><td><a href="/api/references/vscode-api#languages.registerDocumentRangeFormattingEditProvider"><code>registerDocumentRangeFormattingEditProvider</code></a></td> <td><a href="https://microsoft.github.io/language-server-protocol/specification#textDocument_rangeFormatting" target="_blank" rel="noopener noreferrer">RangeFormatting<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td></tr> <tr><td><a href="/api/references/vscode-api#languages.registerOnTypeFormattingEditProvider"><code>registerOnTypeFormattingEditProvider</code></a></td> <td><a href="https://microsoft.github.io/language-server-protocol/specification#textDocument_onTypeFormatting" target="_blank" rel="noopener noreferrer">OnTypeFormatting<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td></tr> <tr><td><a href="/api/references/vscode-api#languages.registerRenameProvider"><code>registerRenameProvider</code></a></td> <td><a href="https://microsoft.github.io/language-server-protocol/specification#textDocument_rename" target="_blank" rel="noopener noreferrer">Rename<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> &amp; <a href="https://microsoft.github.io/language-server-protocol/specification#textDocument_prepareRename" target="_blank" rel="noopener noreferrer">Prepare Rename<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td></tr> <tr><td><a href="/api/references/vscode-api#languages.registerFoldingRangeProvider"><code>registerFoldingRangeProvider</code></a></td> <td><a href="https://microsoft.github.io/language-server-protocol/specification#textDocument_foldingRange" target="_blank" rel="noopener noreferrer">FoldingRange<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td></tr></tbody></table> <h2 id="provide-diagnostics"><a href="#provide-diagnostics" aria-hidden="true" class="header-anchor">#</a> Provide Diagnostics</h2> <p>Diagnostics are a way to indicate issues with the code.</p> <p><img src="images/language-support/diagnostics.gif" alt="Diagnostics at Work"></p> <h4 id="language-server-protocol"><a href="#language-server-protocol" aria-hidden="true" class="header-anchor">#</a> Language Server Protocol</h4> <p>Your language server sends the <code>textDocument/publishDiagnostics</code> message to the language client. The message carries an array of diagnostic items for a resource URI.</p> <p><strong>Note</strong>: The client does not ask the server for diagnostics. The server pushes the diagnostic information to the client.</p> <h4 id="direct-implementation"><a href="#direct-implementation" aria-hidden="true" class="header-anchor">#</a> Direct Implementation</h4> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">let</span> diagnosticCollection<span class="token punctuation">:</span> vscode<span class="token punctuation">.</span>DiagnosticCollection<span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">activate</span><span class="token punctuation">(</span><span class="token parameter">ctx<span class="token punctuation">:</span> vscode<span class="token punctuation">.</span>ExtensionContext</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>
  ctx<span class="token punctuation">.</span>subscriptions<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token function">getDisposable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  diagnosticCollection <span class="token operator">=</span> vscode<span class="token punctuation">.</span>languages<span class="token punctuation">.</span><span class="token function">createDiagnosticCollection</span><span class="token punctuation">(</span><span class="token string">'go'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span>subscriptions<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>diagnosticCollection<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token operator">...</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">onChange</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> uri <span class="token operator">=</span> document<span class="token punctuation">.</span>uri<span class="token punctuation">;</span>
  <span class="token function">check</span><span class="token punctuation">(</span>uri<span class="token punctuation">.</span>fsPath<span class="token punctuation">,</span> goConfig<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">errors</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    diagnosticCollection<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> diagnosticMap<span class="token punctuation">:</span> Map<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> vscode<span class="token punctuation">.</span>Diagnostic<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    errors<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> canonicalFile <span class="token operator">=</span> vscode<span class="token punctuation">.</span>Uri<span class="token punctuation">.</span><span class="token function">file</span><span class="token punctuation">(</span>error<span class="token punctuation">.</span>file<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">let</span> range <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">vscode<span class="token punctuation">.</span>Range</span><span class="token punctuation">(</span>error<span class="token punctuation">.</span>line<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> error<span class="token punctuation">.</span>startColumn<span class="token punctuation">,</span> error<span class="token punctuation">.</span>line<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> error<span class="token punctuation">.</span>endColumn<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">let</span> diagnostics <span class="token operator">=</span> diagnosticMap<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span>canonicalFile<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>diagnostics<span class="token punctuation">)</span> <span class="token punctuation">{</span> diagnostics <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
      diagnostics<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">vscode<span class="token punctuation">.</span>Diagnostic</span><span class="token punctuation">(</span>range<span class="token punctuation">,</span> error<span class="token punctuation">.</span>msg<span class="token punctuation">,</span> error<span class="token punctuation">.</span>severity<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      diagnosticMap<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span>canonicalFile<span class="token punctuation">,</span> diagnostics<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    diagnosticMap<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">diags<span class="token punctuation">,</span> file</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      diagnosticCollection<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span>vscode<span class="token punctuation">.</span>Uri<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">,</span> diags<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p><strong>Basic</strong></p> <p>Report diagnostics for open editors. Minimally, this needs to happen on every save. Better, diagnostics should be computed based on the un-saved contents of the editor.</p></blockquote> <blockquote><p><strong>Advanced</strong></p> <p>Report diagnostics not only for the open editors but for all resources in the open folder, no matter whether they have ever been opened in an editor or not.</p></blockquote> <h2 id="show-code-completion-proposals"><a href="#show-code-completion-proposals" aria-hidden="true" class="header-anchor">#</a> Show Code Completion Proposals</h2> <p>Code completions provide context sensitive suggestions to the user.</p> <p><img src="images/language-support/code-completion.gif" alt="Code Completion at Work"></p> <h4 id="language-server-protocol-2"><a href="#language-server-protocol-2" aria-hidden="true" class="header-anchor">#</a> Language Server Protocol</h4> <p>In the response to the <code>initialize</code> method, your language server needs to announce that it provides completions and whether or not it supports the <code>completionItem\resolve</code> method to provide additional information for the computed completion items.</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    ...
    <span class="token property">&quot;capabilities&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;completionProvider&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;resolveProvider&quot;</span><span class="token operator">:</span> <span class="token string">&quot;true&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;triggerCharacters&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> '.' <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
        ...
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="direct-implementation-2"><a href="#direct-implementation-2" aria-hidden="true" class="header-anchor">#</a> Direct Implementation</h4> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">GoCompletionItemProvider</span> <span class="token keyword">implements</span> <span class="token class-name">vscode<span class="token punctuation">.</span>CompletionItemProvider</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token function">provideCompletionItems</span><span class="token punctuation">(</span>
        document<span class="token punctuation">:</span> vscode<span class="token punctuation">.</span>TextDocument<span class="token punctuation">,</span> position<span class="token punctuation">:</span> vscode<span class="token punctuation">.</span>Position<span class="token punctuation">,</span> token<span class="token punctuation">:</span> vscode<span class="token punctuation">.</span>CancellationToken<span class="token punctuation">)</span><span class="token punctuation">:</span>
        Thenable<span class="token operator">&lt;</span>vscode<span class="token punctuation">.</span>CompletionItem<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">activate</span><span class="token punctuation">(</span><span class="token parameter">ctx<span class="token punctuation">:</span> vscode<span class="token punctuation">.</span>ExtensionContext</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
    ctx<span class="token punctuation">.</span>subscriptions<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token function">getDisposable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span>subscriptions<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>
        vscode<span class="token punctuation">.</span>languages<span class="token punctuation">.</span><span class="token function">registerCompletionItemProvider</span><span class="token punctuation">(</span>
            <span class="token constant">GO_MODE</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">GoCompletionItemProvider</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'.'</span><span class="token punctuation">,</span> <span class="token string">'\&quot;'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">...</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p><strong>Basic</strong></p> <p>You don't support resolve providers.</p></blockquote> <blockquote><p><strong>Advanced</strong></p> <p>You support resolve providers that compute additional information for completion proposal the user selects. This information is displayed along-side the selected item.</p></blockquote> <h2 id="show-hovers"><a href="#show-hovers" aria-hidden="true" class="header-anchor">#</a> Show Hovers</h2> <p>Hovers show information about the symbol/object that's below the mouse cursor. This is usually the type of the symbol and a description.</p> <p><img src="images/language-support/hovers.gif" alt="Hovers at Work"></p> <h4 id="language-server-protocol-3"><a href="#language-server-protocol-3" aria-hidden="true" class="header-anchor">#</a> Language Server Protocol</h4> <p>In the response to the <code>initialize</code> method, your language server needs to announce that it provides hovers.</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    ...
    <span class="token property">&quot;capabilities&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;hoverProvider&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;true&quot;</span><span class="token punctuation">,</span>
        ...
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>In addition, your language server needs to respond to the <code>textDocument/hover</code> request.</p> <h4 id="direct-implementation-3"><a href="#direct-implementation-3" aria-hidden="true" class="header-anchor">#</a> Direct Implementation</h4> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">GoHoverProvider</span> <span class="token keyword">implements</span> <span class="token class-name">HoverProvider</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token function">provideHover</span><span class="token punctuation">(</span>
        document<span class="token punctuation">:</span> TextDocument<span class="token punctuation">,</span> position<span class="token punctuation">:</span> Position<span class="token punctuation">,</span> token<span class="token punctuation">:</span> CancellationToken<span class="token punctuation">)</span><span class="token punctuation">:</span>
        Thenable<span class="token operator">&lt;</span>Hover<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">activate</span><span class="token punctuation">(</span><span class="token parameter">ctx<span class="token punctuation">:</span> vscode<span class="token punctuation">.</span>ExtensionContext</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
    ctx<span class="token punctuation">.</span>subscriptions<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>
        vscode<span class="token punctuation">.</span>languages<span class="token punctuation">.</span><span class="token function">registerHoverProvider</span><span class="token punctuation">(</span>
            <span class="token constant">GO_MODE</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">GoHoverProvider</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">...</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p><strong>Basic</strong></p> <p>Show type information and include documentation if available.</p></blockquote> <blockquote><p><strong>Advanced</strong></p> <p>Colorize method signatures in the same style you colorize the code.</p></blockquote> <h2 id="help-with-function-and-method-signatures"><a href="#help-with-function-and-method-signatures" aria-hidden="true" class="header-anchor">#</a> Help With Function and Method Signatures</h2> <p>When the user enters a function or method, display information about the function/method that is being called.</p> <p><img src="images/language-support/signature-help.gif" alt="Type Hover"></p> <h4 id="language-server-protocol-4"><a href="#language-server-protocol-4" aria-hidden="true" class="header-anchor">#</a> Language Server Protocol</h4> <p>In the response to the <code>initialize</code> method, your language server needs to announce that it provides signature help.</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    ...
    <span class="token property">&quot;capabilities&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;signatureHelpProvider&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;triggerCharacters&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> '(' <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
        ...
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>In addition, your language server needs to respond to the <code>textDocument/signatureHelp</code> request.</p> <h4 id="direct-implementation-4"><a href="#direct-implementation-4" aria-hidden="true" class="header-anchor">#</a> Direct Implementation</h4> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">GoSignatureHelpProvider</span> <span class="token keyword">implements</span> <span class="token class-name">SignatureHelpProvider</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token function">provideSignatureHelp</span><span class="token punctuation">(</span>
        document<span class="token punctuation">:</span> TextDocument<span class="token punctuation">,</span> position<span class="token punctuation">:</span> Position<span class="token punctuation">,</span> token<span class="token punctuation">:</span> CancellationToken<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">Promise</span><span class="token operator">&lt;</span>SignatureHelp<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">activate</span><span class="token punctuation">(</span><span class="token parameter">ctx<span class="token punctuation">:</span> vscode<span class="token punctuation">.</span>ExtensionContext</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
    ctx<span class="token punctuation">.</span>subscriptions<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>
        vscode<span class="token punctuation">.</span>languages<span class="token punctuation">.</span><span class="token function">registerSignatureHelpProvider</span><span class="token punctuation">(</span>
            <span class="token constant">GO_MODE</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">GoSignatureHelpProvider</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'('</span><span class="token punctuation">,</span> <span class="token string">','</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">...</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p><strong>Basic</strong></p> <p>Ensure that the signature help contains the documentation of the parameters of the function or method.</p></blockquote> <blockquote><p><strong>Advanced</strong></p> <p>Nothing additional.</p></blockquote> <h2 id="show-definitions-of-a-symbol"><a href="#show-definitions-of-a-symbol" aria-hidden="true" class="header-anchor">#</a> Show Definitions of a Symbol</h2> <p>Allow the user to see the definition of variables/functions/methods right where the variables/functions/methods are being used.</p> <p><img src="images/language-support/goto-definition.gif" alt="Type Hover"></p> <h4 id="language-server-protocol-5"><a href="#language-server-protocol-5" aria-hidden="true" class="header-anchor">#</a> Language Server Protocol</h4> <p>In the response to the <code>initialize</code> method, your language server needs to announce that it provides goto-definition locations.</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    ...
    <span class="token property">&quot;capabilities&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;definitionProvider&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;true&quot;</span>
        ...
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>In addition, your language server needs to respond to the <code>textDocument/definition</code> request.</p> <h4 id="direct-implementation-5"><a href="#direct-implementation-5" aria-hidden="true" class="header-anchor">#</a> Direct Implementation</h4> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">GoDefinitionProvider</span> <span class="token keyword">implements</span> <span class="token class-name">vscode<span class="token punctuation">.</span>DefinitionProvider</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token function">provideDefinition</span><span class="token punctuation">(</span>
        document<span class="token punctuation">:</span> vscode<span class="token punctuation">.</span>TextDocument<span class="token punctuation">,</span> position<span class="token punctuation">:</span> vscode<span class="token punctuation">.</span>Position<span class="token punctuation">,</span> token<span class="token punctuation">:</span> vscode<span class="token punctuation">.</span>CancellationToken<span class="token punctuation">)</span><span class="token punctuation">:</span>
        Thenable<span class="token operator">&lt;</span>vscode<span class="token punctuation">.</span>Location<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">activate</span><span class="token punctuation">(</span><span class="token parameter">ctx<span class="token punctuation">:</span> vscode<span class="token punctuation">.</span>ExtensionContext</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
    ctx<span class="token punctuation">.</span>subscriptions<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>
        vscode<span class="token punctuation">.</span>languages<span class="token punctuation">.</span><span class="token function">registerDefinitionProvider</span><span class="token punctuation">(</span>
            <span class="token constant">GO_MODE</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">GoDefinitionProvider</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">...</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p><strong>Basic</strong></p> <p>If a symbol is ambivalent, you can show multiple definitions.</p></blockquote> <blockquote><p><strong>Advanced</strong></p> <p>Nothing additional.</p></blockquote> <h2 id="find-all-references-to-a-symbol"><a href="#find-all-references-to-a-symbol" aria-hidden="true" class="header-anchor">#</a> Find All References to a Symbol</h2> <p>Allow the user to see all the source code locations where a certain variable/function/method/symbol is being used.</p> <p><img src="images/language-support/find-references.gif" alt="Type Hover"></p> <h4 id="language-server-protocol-6"><a href="#language-server-protocol-6" aria-hidden="true" class="header-anchor">#</a> Language Server Protocol</h4> <p>In the response to the <code>initialize</code> method, your language server needs to announce that it provides symbol reference locations.</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    ...
    <span class="token property">&quot;capabilities&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;referencesProvider&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;true&quot;</span>
        ...
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>In addition, your language server needs to respond to the <code>textDocument/references</code> request.</p> <h4 id="direct-implementation-6"><a href="#direct-implementation-6" aria-hidden="true" class="header-anchor">#</a> Direct Implementation</h4> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">GoReferenceProvider</span> <span class="token keyword">implements</span> <span class="token class-name">vscode<span class="token punctuation">.</span>ReferenceProvider</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token function">provideReferences</span><span class="token punctuation">(</span>
        document<span class="token punctuation">:</span> vscode<span class="token punctuation">.</span>TextDocument<span class="token punctuation">,</span> position<span class="token punctuation">:</span> vscode<span class="token punctuation">.</span>Position<span class="token punctuation">,</span>
        options<span class="token punctuation">:</span> <span class="token punctuation">{</span> includeDeclaration<span class="token punctuation">:</span> <span class="token builtin">boolean</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> token<span class="token punctuation">:</span> vscode<span class="token punctuation">.</span>CancellationToken<span class="token punctuation">)</span><span class="token punctuation">:</span>
        Thenable<span class="token operator">&lt;</span>vscode<span class="token punctuation">.</span>Location<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">activate</span><span class="token punctuation">(</span><span class="token parameter">ctx<span class="token punctuation">:</span> vscode<span class="token punctuation">.</span>ExtensionContext</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
    ctx<span class="token punctuation">.</span>subscriptions<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>
        vscode<span class="token punctuation">.</span>languages<span class="token punctuation">.</span><span class="token function">registerReferenceProvider</span><span class="token punctuation">(</span>
            <span class="token constant">GO_MODE</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">GoReferenceProvider</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">...</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p><strong>Basic</strong></p> <p>Return the location (resource URI and range) for all references.</p></blockquote> <blockquote><p><strong>Advanced</strong></p> <p>Nothing additional.</p></blockquote> <h2 id="highlight-all-occurrences-of-a-symbol-in-a-document"><a href="#highlight-all-occurrences-of-a-symbol-in-a-document" aria-hidden="true" class="header-anchor">#</a> Highlight All Occurrences of a Symbol in a Document</h2> <p>Allow the user to see all occurrences of a symbol in the open editor.</p> <p><img src="images/language-support/document-highlights.gif" alt="Type Hover"></p> <h4 id="language-server-protocol-7"><a href="#language-server-protocol-7" aria-hidden="true" class="header-anchor">#</a> Language Server Protocol</h4> <p>In the response to the <code>initialize</code> method, your language server needs to announce that it provides symbol document locations.</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    ...
    <span class="token property">&quot;capabilities&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;documentHighlightProvider&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;true&quot;</span>
        ...
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>In addition, your language server needs to respond to the <code>textDocument/documentHighlight</code> request.</p> <h4 id="direct-implementation-7"><a href="#direct-implementation-7" aria-hidden="true" class="header-anchor">#</a> Direct Implementation</h4> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">GoDocumentHighlightProvider</span> <span class="token keyword">implements</span> <span class="token class-name">vscode<span class="token punctuation">.</span>DocumentHighlightProvider</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token function">provideDocumentHighlights</span><span class="token punctuation">(</span>
        document<span class="token punctuation">:</span> vscode<span class="token punctuation">.</span>TextDocument<span class="token punctuation">,</span> position<span class="token punctuation">:</span> vscode<span class="token punctuation">.</span>Position<span class="token punctuation">,</span> token<span class="token punctuation">:</span> vscode<span class="token punctuation">.</span>CancellationToken<span class="token punctuation">)</span><span class="token punctuation">:</span>
        vscode<span class="token punctuation">.</span>DocumentHighlight<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">|</span> Thenable<span class="token operator">&lt;</span>vscode<span class="token punctuation">.</span>DocumentHighlight<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
    <span class="token operator">...</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">activate</span><span class="token punctuation">(</span><span class="token parameter">ctx<span class="token punctuation">:</span> vscode<span class="token punctuation">.</span>ExtensionContext</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
    ctx<span class="token punctuation">.</span>subscriptions<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>
        vscode<span class="token punctuation">.</span>languages<span class="token punctuation">.</span><span class="token function">registerDocumentHighlightProvider</span><span class="token punctuation">(</span>
            <span class="token constant">GO_MODE</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">GoDocumentHighlightProvider</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">...</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p><strong>Basic</strong></p> <p>You return the ranges in the editor's document where the references are being found.</p></blockquote> <blockquote><p><strong>Advanced</strong></p> <p>Nothing additional.</p></blockquote> <h2 id="show-all-symbol-definitions-within-a-document"><a href="#show-all-symbol-definitions-within-a-document" aria-hidden="true" class="header-anchor">#</a> Show all Symbol Definitions Within a Document</h2> <p>Allow the user to quickly navigate to any symbol definition in the open editor.</p> <p><img src="images/language-support/document-symbols.gif" alt="Type Hover"></p> <h4 id="language-server-protocol-8"><a href="#language-server-protocol-8" aria-hidden="true" class="header-anchor">#</a> Language Server Protocol</h4> <p>In the response to the <code>initialize</code> method, your language server needs to announce that it provides symbol document locations.</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    ...
    <span class="token property">&quot;capabilities&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;documentSymbolProvider&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;true&quot;</span>
        ...
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>In addition, your language server needs to respond to the <code>textDocument/documentSymbol</code> request.</p> <h4 id="direct-implementation-8"><a href="#direct-implementation-8" aria-hidden="true" class="header-anchor">#</a> Direct Implementation</h4> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">GoDocumentSymbolProvider</span> <span class="token keyword">implements</span> <span class="token class-name">vscode<span class="token punctuation">.</span>DocumentSymbolProvider</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token function">provideDocumentSymbols</span><span class="token punctuation">(</span>
        document<span class="token punctuation">:</span> vscode<span class="token punctuation">.</span>TextDocument<span class="token punctuation">,</span> token<span class="token punctuation">:</span> vscode<span class="token punctuation">.</span>CancellationToken<span class="token punctuation">)</span><span class="token punctuation">:</span>
        Thenable<span class="token operator">&lt;</span>vscode<span class="token punctuation">.</span>SymbolInformation<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">activate</span><span class="token punctuation">(</span><span class="token parameter">ctx<span class="token punctuation">:</span> vscode<span class="token punctuation">.</span>ExtensionContext</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
    ctx<span class="token punctuation">.</span>subscriptions<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>
        vscode<span class="token punctuation">.</span>languages<span class="token punctuation">.</span><span class="token function">registerDocumentSymbolProvider</span><span class="token punctuation">(</span>
            <span class="token constant">GO_MODE</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">GoDocumentSymbolProvider</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">...</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p><strong>Basic</strong></p> <p>Return all symbols in the document. Define the kinds of symbols such as variables, functions, classes, methods, etc.</p></blockquote> <blockquote><p><strong>Advanced</strong></p> <p>Nothing additional.</p></blockquote> <h2 id="show-all-symbol-definitions-in-folder"><a href="#show-all-symbol-definitions-in-folder" aria-hidden="true" class="header-anchor">#</a> Show all Symbol Definitions in Folder</h2> <p>Allow the user to quickly navigate to symbol definitions anywhere in the folder (workspace) opened in VS Code.</p> <p><img src="images/language-support/workspace-symbols.gif" alt="Type Hover"></p> <h4 id="language-server-protocol-9"><a href="#language-server-protocol-9" aria-hidden="true" class="header-anchor">#</a> Language Server Protocol</h4> <p>In the response to the <code>initialize</code> method, your language server needs to announce that it provides global symbol locations.</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    ...
    <span class="token property">&quot;capabilities&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;workspaceSymbolProvider&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;true&quot;</span>
        ...
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>In addition, your language server needs to respond to the <code>workspace/symbol</code> request.</p> <h4 id="direct-implementation-9"><a href="#direct-implementation-9" aria-hidden="true" class="header-anchor">#</a> Direct Implementation</h4> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">GoWorkspaceSymbolProvider</span> <span class="token keyword">implements</span> <span class="token class-name">vscode<span class="token punctuation">.</span>WorkspaceSymbolProvider</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token function">provideWorkspaceSymbols</span><span class="token punctuation">(</span>
        query<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> token<span class="token punctuation">:</span> vscode<span class="token punctuation">.</span>CancellationToken<span class="token punctuation">)</span><span class="token punctuation">:</span>
        Thenable<span class="token operator">&lt;</span>vscode<span class="token punctuation">.</span>SymbolInformation<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">activate</span><span class="token punctuation">(</span><span class="token parameter">ctx<span class="token punctuation">:</span> vscode<span class="token punctuation">.</span>ExtensionContext</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
    ctx<span class="token punctuation">.</span>subscriptions<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>
        vscode<span class="token punctuation">.</span>languages<span class="token punctuation">.</span><span class="token function">registerWorkspaceSymbolProvider</span><span class="token punctuation">(</span>
            <span class="token keyword">new</span> <span class="token class-name">GoWorkspaceSymbolProvider</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">...</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p><strong>Basic</strong></p> <p>Return all symbols define by the source code within the open folder. Define the kinds of symbols such as variables, functions, classes, methods, etc.</p></blockquote> <blockquote><p><strong>Advanced</strong></p> <p>Nothing additional.</p></blockquote> <h2 id="possible-actions-on-errors-or-warnings"><a href="#possible-actions-on-errors-or-warnings" aria-hidden="true" class="header-anchor">#</a> Possible Actions on Errors or Warnings</h2> <p>Provide the user with possible corrective actions right next to an error or warning. If actions are available, a light bulb appears next to the error or warning. When the user clicks the light bulb, a list of available Code Actions is presented.</p> <p><img src="images/language-support/quick-fixes.gif" alt="Type Hover"></p> <h4 id="language-server-protocol-10"><a href="#language-server-protocol-10" aria-hidden="true" class="header-anchor">#</a> Language Server Protocol</h4> <p>In the response to the <code>initialize</code> method, your language server needs to announce that it provides Code Actions.</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    ...
    <span class="token property">&quot;capabilities&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;codeActionProvider&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;true&quot;</span>
        ...
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>In addition, your language server needs to respond to the <code>textDocument/codeAction</code> request.</p> <h4 id="direct-implementation-10"><a href="#direct-implementation-10" aria-hidden="true" class="header-anchor">#</a> Direct Implementation</h4> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">GoCodeActionProvider</span> <span class="token keyword">implements</span> <span class="token class-name">vscode<span class="token punctuation">.</span>CodeActionProvider</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token function">provideCodeActions</span><span class="token punctuation">(</span>
        document<span class="token punctuation">:</span> vscode<span class="token punctuation">.</span>TextDocument<span class="token punctuation">,</span> range<span class="token punctuation">:</span> vscode<span class="token punctuation">.</span>Range<span class="token punctuation">,</span>
        context<span class="token punctuation">:</span> vscode<span class="token punctuation">.</span>CodeActionContext<span class="token punctuation">,</span> token<span class="token punctuation">:</span> vscode<span class="token punctuation">.</span>CancellationToken<span class="token punctuation">)</span><span class="token punctuation">:</span>
        Thenable<span class="token operator">&lt;</span>vscode<span class="token punctuation">.</span>Command<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">activate</span><span class="token punctuation">(</span><span class="token parameter">ctx<span class="token punctuation">:</span> vscode<span class="token punctuation">.</span>ExtensionContext</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
    ctx<span class="token punctuation">.</span>subscriptions<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>
        vscode<span class="token punctuation">.</span>languages<span class="token punctuation">.</span><span class="token function">registerCodeActionsProvider</span><span class="token punctuation">(</span>
            <span class="token constant">GO_MODE</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">GoCodeActionProvider</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">...</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p><strong>Basic</strong></p> <p>Provide Code Actions for error/warning correcting actions.</p></blockquote> <blockquote><p><strong>Advanced</strong></p> <p>In addition, provide source code manipulation actions such as refactoring. For example, <strong>Extract Method</strong>.</p></blockquote> <h2 id="codelens-show-actionable-context-information-within-source-code"><a href="#codelens-show-actionable-context-information-within-source-code" aria-hidden="true" class="header-anchor">#</a> CodeLens - Show Actionable Context Information Within Source Code</h2> <p>Provide the user with actionable, contextual information that is displayed interspersed with the source code.</p> <p><img src="images/language-support/code-lens.gif" alt="Type Hover"></p> <h4 id="language-server-protocol-11"><a href="#language-server-protocol-11" aria-hidden="true" class="header-anchor">#</a> Language Server Protocol</h4> <p>In the response to the <code>initialize</code> method, your language server needs to announce that it provides CodeLens results and whether it supports the <code>codeLens\resolve</code> method to bind the CodeLens to its command.</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    ...
    <span class="token property">&quot;capabilities&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;codeLensProvider&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;resolveProvider&quot;</span><span class="token operator">:</span> <span class="token string">&quot;true&quot;</span>
        <span class="token punctuation">}</span>
        ...
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>In addition, your language server needs to respond to the <code>textDocument/codeLens</code> request.</p> <h4 id="direct-implementation-11"><a href="#direct-implementation-11" aria-hidden="true" class="header-anchor">#</a> Direct Implementation</h4> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">GoCodeLensProvider</span> <span class="token keyword">implements</span> <span class="token class-name">vscode<span class="token punctuation">.</span>CodeLensProvider</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token function">provideCodeLenses</span><span class="token punctuation">(</span>document<span class="token punctuation">:</span> TextDocument<span class="token punctuation">,</span> token<span class="token punctuation">:</span> CancellationToken<span class="token punctuation">)</span><span class="token punctuation">:</span>
        CodeLens<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">|</span> Thenable<span class="token operator">&lt;</span>CodeLens<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> resolveCodeLens<span class="token operator">?</span><span class="token punctuation">(</span>codeLens<span class="token punctuation">:</span> CodeLens<span class="token punctuation">,</span> token<span class="token punctuation">:</span> CancellationToken<span class="token punctuation">)</span><span class="token punctuation">:</span>
         CodeLens <span class="token operator">|</span> Thenable<span class="token operator">&lt;</span>CodeLens<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">activate</span><span class="token punctuation">(</span><span class="token parameter">ctx<span class="token punctuation">:</span> vscode<span class="token punctuation">.</span>ExtensionContext</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
    ctx<span class="token punctuation">.</span>subscriptions<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>
        vscode<span class="token punctuation">.</span>languages<span class="token punctuation">.</span><span class="token function">registerCodeLensProvider</span><span class="token punctuation">(</span>
            <span class="token constant">GO_MODE</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">GoCodeLensProvider</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">...</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p><strong>Basic</strong></p> <p>Define the CodeLens results that are available for a document.</p></blockquote> <blockquote><p><strong>Advanced</strong></p> <p>Bind the CodeLens results to a command by responding to <code>codeLens/resolve</code>.</p></blockquote> <h2 id="show-color-decorators"><a href="#show-color-decorators" aria-hidden="true" class="header-anchor">#</a> Show Color Decorators</h2> <p>Allow the user to preview and modify colors in the document.</p> <p><img src="images/language-support/color-decorators.png" alt="Type Hover"></p> <h4 id="language-server-protocol-12"><a href="#language-server-protocol-12" aria-hidden="true" class="header-anchor">#</a> Language Server Protocol</h4> <p>In the response to the <code>initialize</code> method, your language server needs to announce that it provides color information.</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    ...
    <span class="token property">&quot;capabilities&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;colorProvider&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;true&quot;</span>
        ...
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>In addition, your language server needs to respond to the <code>textDocument/documentColor</code> and <code>textDocument/colorPresentation</code> requests.</p> <h4 id="direct-implementation-12"><a href="#direct-implementation-12" aria-hidden="true" class="header-anchor">#</a> Direct Implementation</h4> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">GoColorProvider</span> <span class="token keyword">implements</span> <span class="token class-name">vscode<span class="token punctuation">.</span>DocumentColorProvider</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token function">provideDocumentColors</span><span class="token punctuation">(</span>
        document<span class="token punctuation">:</span> vscode<span class="token punctuation">.</span>TextDocument<span class="token punctuation">,</span> token<span class="token punctuation">:</span> vscode<span class="token punctuation">.</span>CancellationToken<span class="token punctuation">)</span><span class="token punctuation">:</span>
        Thenable<span class="token operator">&lt;</span>vscode<span class="token punctuation">.</span>ColorInformation<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token function">provideColorPresentations</span><span class="token punctuation">(</span>
        color<span class="token punctuation">:</span> Color<span class="token punctuation">,</span> context<span class="token punctuation">:</span> <span class="token punctuation">{</span> document<span class="token punctuation">:</span> TextDocument<span class="token punctuation">,</span> range<span class="token punctuation">:</span> Range <span class="token punctuation">}</span><span class="token punctuation">,</span> token<span class="token punctuation">:</span> vscode<span class="token punctuation">.</span>CancellationToken<span class="token punctuation">)</span><span class="token punctuation">:</span>
        Thenable<span class="token operator">&lt;</span>vscode<span class="token punctuation">.</span>ColorPresentation<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">activate</span><span class="token punctuation">(</span><span class="token parameter">ctx<span class="token punctuation">:</span> vscode<span class="token punctuation">.</span>ExtensionContext</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
    ctx<span class="token punctuation">.</span>subscriptions<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>
        vscode<span class="token punctuation">.</span>languages<span class="token punctuation">.</span><span class="token function">registerColorProvider</span><span class="token punctuation">(</span>
            <span class="token constant">GO_MODE</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">GoColorProvider</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">...</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p><strong>Basic</strong></p> <p>Return all color references in the document. Provide color presentations for the color formats supported (for example rgb(...), hsl(...)).</p></blockquote> <blockquote><p><strong>Advanced</strong></p> <p>Nothing additional.</p></blockquote> <h2 id="format-source-code-in-an-editor"><a href="#format-source-code-in-an-editor" aria-hidden="true" class="header-anchor">#</a> Format Source Code in an Editor</h2> <p>Provide the user with support for formatting whole documents.</p> <p><img src="images/language-support/format-document.gif" alt="Document Formatting at Work"></p> <h4 id="language-server-protocol-13"><a href="#language-server-protocol-13" aria-hidden="true" class="header-anchor">#</a> Language Server Protocol</h4> <p>In the response to the <code>initialize</code> method, your language server needs to announce that it provides document formatting.</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    ...
    <span class="token property">&quot;capabilities&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;documentFormattingProvider&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;true&quot;</span>
        ...
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>In addition, your language server needs to respond to the <code>textDocument/formatting</code> request.</p> <h4 id="direct-implementation-13"><a href="#direct-implementation-13" aria-hidden="true" class="header-anchor">#</a> Direct Implementation</h4> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">GoDocumentFormatter</span> <span class="token keyword">implements</span> <span class="token class-name">vscode<span class="token punctuation">.</span>DocumentFormattingEditProvider</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token function">formatDocument</span><span class="token punctuation">(</span>document<span class="token punctuation">:</span> vscode<span class="token punctuation">.</span>TextDocument<span class="token punctuation">)</span><span class="token punctuation">:</span>
        Thenable<span class="token operator">&lt;</span>vscode<span class="token punctuation">.</span>TextEdit<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">activate</span><span class="token punctuation">(</span><span class="token parameter">ctx<span class="token punctuation">:</span> vscode<span class="token punctuation">.</span>ExtensionContext</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
    ctx<span class="token punctuation">.</span>subscriptions<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>
        vscode<span class="token punctuation">.</span>languages<span class="token punctuation">.</span><span class="token function">registerDocumentFormattingEditProvider</span><span class="token punctuation">(</span>
            <span class="token constant">GO_MODE</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">GoDocumentFormatter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">...</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p><strong>Basic</strong></p> <p>Don't provide formatting support.</p></blockquote> <blockquote><p><strong>Advanced</strong></p> <p>You should always return the smallest possible text edits that result in the source code being formatted. This is crucial to ensure that markers such as diagnostic results are adjusted correctly and are not lost.</p></blockquote> <h2 id="format-the-selected-lines-in-an-editor"><a href="#format-the-selected-lines-in-an-editor" aria-hidden="true" class="header-anchor">#</a> Format the Selected Lines in an Editor</h2> <p>Provide the user with support for formatting a selected range of lines in a document.</p> <p><img src="images/language-support/format-document-range.gif" alt="Document Formatting at Work"></p> <h4 id="language-server-protocol-14"><a href="#language-server-protocol-14" aria-hidden="true" class="header-anchor">#</a> Language Server Protocol</h4> <p>In the response to the <code>initialize</code> method, your language server needs to announce that it provides formatting support for ranges of lines.</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    ...
    <span class="token property">&quot;capabilities&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;documentRangeFormattingProvider&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;true&quot;</span>
        ...
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>In addition, your language server needs to respond to the <code>textDocument/rangeFormatting</code> request.</p> <h4 id="direct-implementation-14"><a href="#direct-implementation-14" aria-hidden="true" class="header-anchor">#</a> Direct Implementation</h4> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">GoDocumentRangeFormatter</span> <span class="token keyword">implements</span> <span class="token class-name">vscode<span class="token punctuation">.</span>DocumentRangeFormattingEditProvider</span><span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token function">provideDocumentRangeFormattingEdits</span><span class="token punctuation">(</span>
        document<span class="token punctuation">:</span> vscode<span class="token punctuation">.</span>TextDocument<span class="token punctuation">,</span> range<span class="token punctuation">:</span> vscode<span class="token punctuation">.</span>Range<span class="token punctuation">,</span>
        options<span class="token punctuation">:</span> vscode<span class="token punctuation">.</span>FormattingOptions<span class="token punctuation">,</span> token<span class="token punctuation">:</span> vscode<span class="token punctuation">.</span>CancellationToken<span class="token punctuation">)</span><span class="token punctuation">:</span>
        Thenable<span class="token operator">&lt;</span>vscode<span class="token punctuation">.</span>TextEdit<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
    <span class="token operator">...</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">activate</span><span class="token punctuation">(</span><span class="token parameter">ctx<span class="token punctuation">:</span> vscode<span class="token punctuation">.</span>ExtensionContext</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
    ctx<span class="token punctuation">.</span>subscriptions<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>
        vscode<span class="token punctuation">.</span>languages<span class="token punctuation">.</span><span class="token function">registerDocumentRangeFormattingEditProvider</span><span class="token punctuation">(</span>
            <span class="token constant">GO_MODE</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">GoDocumentRangeFormatter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">...</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p><strong>Basic</strong></p> <p>Don't provide formatting support.</p></blockquote> <blockquote><p><strong>Advanced</strong></p> <p>You should always return the smallest possible text edits that result in the source code being formatted. This is crucial to ensure that markers such as diagnostic results are adjusted corrected and are not lost.</p></blockquote> <h2 id="incrementally-format-code-as-the-user-types"><a href="#incrementally-format-code-as-the-user-types" aria-hidden="true" class="header-anchor">#</a> Incrementally Format Code as the User Types</h2> <p>Provide the user with support for formatting text as they type.</p> <p><strong>Note</strong>: The user <a href="/docs/getstarted/settings">setting</a> <code>editor.formatOnType</code> controls whether source code gets formatted or not as the user types.</p> <p><img src="images/language-support/format-on-type.gif" alt="Document Formatting at Work"></p> <h4 id="language-server-protocol-15"><a href="#language-server-protocol-15" aria-hidden="true" class="header-anchor">#</a> Language Server Protocol</h4> <p>In the response to the <code>initialize</code> method, your language server needs to announce that it provides formatting as the user types. It also needs to tell the client on which characters formatting should be triggered. <code>moreTriggerCharacters</code> is optional.</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    ...
    <span class="token property">&quot;capabilities&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;documentOnTypeFormattingProvider&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;firstTriggerCharacter&quot;</span><span class="token operator">:</span> <span class="token string">&quot;}&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;moreTriggerCharacter&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;;&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;,&quot;</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
        ...
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>In addition, your language server needs to respond to the <code>textDocument/onTypeFormatting</code> request.</p> <h4 id="direct-implementation-15"><a href="#direct-implementation-15" aria-hidden="true" class="header-anchor">#</a> Direct Implementation</h4> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">GoOnTypingFormatter</span> <span class="token keyword">implements</span> <span class="token class-name">vscode<span class="token punctuation">.</span>OnTypeFormattingEditProvider</span><span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token function">provideOnTypeFormattingEdits</span><span class="token punctuation">(</span>
        document<span class="token punctuation">:</span> vscode<span class="token punctuation">.</span>TextDocument<span class="token punctuation">,</span> position<span class="token punctuation">:</span> vscode<span class="token punctuation">.</span>Position<span class="token punctuation">,</span>
        ch<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> options<span class="token punctuation">:</span> vscode<span class="token punctuation">.</span>FormattingOptions<span class="token punctuation">,</span> token<span class="token punctuation">:</span> vscode<span class="token punctuation">.</span>CancellationToken<span class="token punctuation">)</span><span class="token punctuation">:</span>
        Thenable<span class="token operator">&lt;</span>vscode<span class="token punctuation">.</span>TextEdit<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
    <span class="token operator">...</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">activate</span><span class="token punctuation">(</span><span class="token parameter">ctx<span class="token punctuation">:</span> vscode<span class="token punctuation">.</span>ExtensionContext</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
    ctx<span class="token punctuation">.</span>subscriptions<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>
        vscode<span class="token punctuation">.</span>languages<span class="token punctuation">.</span><span class="token function">registerOnTypeFormattingEditProvider</span><span class="token punctuation">(</span>
            <span class="token constant">GO_MODE</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">GoOnTypingFormatter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">...</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p><strong>Basic</strong></p> <p>Don't provide formatting support.</p></blockquote> <blockquote><p><strong>Advanced</strong></p> <p>You should always return the smallest possible text edits that result in the source code being formatted. This is crucial to ensure that markers such as diagnostic results are adjusted corrected and are not lost.</p></blockquote> <h2 id="rename-symbols"><a href="#rename-symbols" aria-hidden="true" class="header-anchor">#</a> Rename Symbols</h2> <p>Allow the user to rename a symbol and update all references to the symbol.</p> <p><img src="images/language-support/rename.gif" alt="Type Hover"></p> <h4 id="language-server-protocol-16"><a href="#language-server-protocol-16" aria-hidden="true" class="header-anchor">#</a> Language Server Protocol</h4> <p>In the response to the <code>initialize</code> method, your language server needs to announce that it provides for renaming.</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    ...
    <span class="token property">&quot;capabilities&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;renameProvider&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;true&quot;</span>
        ...
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>In addition, your language server needs to respond to the <code>textDocument/rename</code> request.</p> <h4 id="direct-implementation-16"><a href="#direct-implementation-16" aria-hidden="true" class="header-anchor">#</a> Direct Implementation</h4> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">GoRenameProvider</span> <span class="token keyword">implements</span> <span class="token class-name">vscode<span class="token punctuation">.</span>RenameProvider</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token function">provideRenameEdits</span><span class="token punctuation">(</span>
        document<span class="token punctuation">:</span> vscode<span class="token punctuation">.</span>TextDocument<span class="token punctuation">,</span> position<span class="token punctuation">:</span> vscode<span class="token punctuation">.</span>Position<span class="token punctuation">,</span>
        newName<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> token<span class="token punctuation">:</span> vscode<span class="token punctuation">.</span>CancellationToken<span class="token punctuation">)</span><span class="token punctuation">:</span>
        Thenable<span class="token operator">&lt;</span>vscode<span class="token punctuation">.</span>WorkspaceEdit<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">activate</span><span class="token punctuation">(</span><span class="token parameter">ctx<span class="token punctuation">:</span> vscode<span class="token punctuation">.</span>ExtensionContext</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
    ctx<span class="token punctuation">.</span>subscriptions<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>
        vscode<span class="token punctuation">.</span>languages<span class="token punctuation">.</span><span class="token function">registerRenameProvider</span><span class="token punctuation">(</span>
            <span class="token constant">GO_MODE</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">GoRenameProvider</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">...</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p><strong>Basic</strong></p> <p>Don't provide rename support.</p></blockquote> <blockquote><p><strong>Advanced</strong></p> <p>Return the list of all workspace edits that need to be performed, for example all edits across all files that contain references to the symbol.</p></blockquote></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.69530766.js" defer></script><script src="/assets/js/2.6081b710.js" defer></script><script src="/assets/js/39.3c1938ed.js" defer></script>
  </body>
</html>
